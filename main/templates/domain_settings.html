{% extends "base.html" %}
{% block title %}Настройка доменов{% endblock %}
{% block content %}
<script type=text/javascript src="{{ url_for('static', filename='js/jquery-3.6.0.min.js') }}"></script>
<script type=text/javascript src="{{ url_for('static', filename='js/past_link.js') }}"></script>
<script type=text/javascript src="{{ url_for('static', filename='js/write_domain_list.js') }}"></script>
<script type=text/javascript src="{{ url_for('static', filename='js/write_domain_setting.js') }}"></script>
<script type=text/javascript src="{{ url_for('static', filename='js/write_domain_links.js') }}"></script>
<script type=text/javascript src="{{ url_for('static', filename='js/parse_one_link.js') }}"></script>
<!-- - - - - - - - - - - - фильтры - - - - - - - - - - -  -->
<script type=text/javascript src="{{ url_for('static', filename='js/filters/afil.js') }}"></script>
<script type=text/javascript src="{{ url_for('static', filename='js/settings/drawDomainTable.js') }}"></script>
<script type=text/javascript src="{{ url_for('static', filename='js/settings/drawPartFilter.js') }}"></script>
<script type=text/javascript src="{{ url_for('static', filename='js/settings/createFilters.js') }}"></script>
<script type=text/javascript src="{{ url_for('static', filename='js/settings/drawFileFilter.js') }}"></script>

<h1>Настройка доменов</h1>

<!-- - - - - - - - - - - - СПИСОК ДОМЕНОВ - - - - - - - - - - -  -->
<table id = 'domain_table'> </table>
<!-- <script> write_domains() </script> -->

<!-- - - - - - - - - - - - БЛОК НАСТРОЕК ДОМЕНА - - - - - - - - - - -  -->
<h3 id = 'domain_settings'></h3>
<div id = "block_for_settings"> </div>

<!-- - - - - - - - - - - - ВСТАВКА ССЫЛКИ - - - - - - - - - - -  -->
<!-- <br> -->
<!-- action="javascript:past_link(this)" -->
<!-- <form  method="post" >
  <label for="name">Вставьте ссылку:</label>
  <input id="link_input" type="text" name = 'link_input_form'>
  <input type="button" value="Отправить" onclick="past_link(this)">
</form> -->

<!-- - - - - - - - - - - - СПИСОК ВСТАВЛЕННЫХ ССЫЛОК - - - - - - - - - - -  -->
<!-- <h2>Список ссылок:</h2>
<ul id = 'pasted_links' >

</ul> -->
<!-- - - - - - - - - - - - ФИЛЬТРЫ - - - - - - - - - - -  -->

<div class="domainFilterDiv">
  <table id="domainFilterTable" class="table_sort">

  </table>

  <!-- Control buttons -->
<div id="myBtnContainer">
  <button class="btn active" data-files="1,2" onclick="filterSelection(this)"> Show all</button>
  <button class="btn" data-files="1" onclick="filterSelection(this)"> файл id 1</button>
  <button class="btn" data-files="2" onclick="filterSelection(this)"> файл id 2</button>

</div>


<script type="text/javascript">

  // filterSelection("all")
  // Add active class to the current control button (highlight it)
  var btnContainer = document.getElementById("myBtnContainer");
  var btns = btnContainer.getElementsByClassName("btn");
  for (var i = 0; i < btns.length; i++) {
    btns[i].addEventListener("click", function() {
      var current = document.getElementsByClassName("active");
      current[0].className = current[0].className.replace(" active", "");
      this.className += " active";
    });
  }
</script>
<style>
  .container {
    overflow: hidden;
  }

  .filterDiv {
    <!-- float: left; -->
    background-color: #2196F3;
    <!-- color: #ffffff; -->
    <!-- width: 100px; -->
    <!-- line-height: 100px; -->
    text-align: center;
    margin: 2px;
    display: table-row;
    /* display: none;  Hidden by default */
  }

  /* The "show" class is added to the filtered elements */
  .show {
    display: table-row;
  }

  /* Style the buttons */
  .btn {
    border: none;
    outline: none;
    padding: 12px 16px;
    background-color: #f1f1f1;
    cursor: pointer;
  }

  /* Add a light grey background on mouse-over */
  .btn:hover {
    background-color: #ddd;
  }

  /* Add a dark background to the active button */
  .btn.active {
    background-color: #666;
    color: white;
  }
  #domainFilterTable{
   overflow-y:scroll;
   height:700px;
   width:700px;
   display:block;
 }
  </style>
</div>
<script type="text/javascript">
  let filterDataObj = inputDomainObjects({{jsonDomainList | tojson | safe}});
  drawDomainFilterTable(filterDataObj)
</script>
{% endblock %}
